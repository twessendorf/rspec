<div class="paragraph">
<p>This rule raises an issue when an iteration over the items of a <code>Collection</code> is performed on a super-type of the type handled by the <code>Collection</code>.</p>
</div>
<div class="paragraph">
<p>Relying on <code>Object</code> or any classes between <code>Object</code> and the real class handled by the <code>Collection</code> is not recommended. While it&#8217;s accepted by the language, this practice reduces readability of the code and forces to down-cast the item of the <code>Collection</code> to be able to call a method on it while simply using the correct type in the iteration makes things more clear and simple.</p>
</div>
<div class="sect1">
<h2 id="_noncompliant_code_example">Noncompliant Code Example</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>public Collection&lt;Person&gt; getPersons() { ... }

for (Object item : getPersons()) { // Noncompliant
  Person person = (Person) item; // Noncompliant; it's required to down-cast to the to correct type to use "item"
  person.getAdress();
}</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_compliant_solution">Compliant Solution</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>for (Person person : getPersons()) { // Compliant
  person.getAddress() ;
}</pre>
</div>
</div>
<hr/>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Change "XXX" by the type handled by the Collection.</p>
</div>
</div>
<div class="sect2">
<h3 id="_highlighting">Highlighting</h3>
<div class="paragraph">
<p>First: the "wrong" type</p>
</div>
<div class="paragraph">
<p>Second: the Collection part of the iteration</p>
</div>
<hr/>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_12_sep_2018_164138_alexandre_gigleux_wrote">on 12 Sep 2018, 16:41:38 Alexandre Gigleux wrote:</h3>
<div class="paragraph">
<p>\[~nicolas.peru] Can you review?</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_12_sep_2018_164547_nicolas_peru_wrote">on 12 Sep 2018, 16:45:47 Nicolas Peru wrote:</h3>
<div class="paragraph">
<p>LGTM</p>
</div>
</div>
</div>
</div>