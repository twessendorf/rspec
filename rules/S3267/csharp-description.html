<div class="paragraph">
<p>When a loop is filtering, selecting or aggregating, those functions can be handled with a clearer, more concise LINQ expression instead.</p>
</div>
<div class="sect1">
<h2 id="_noncompliant_code_example">Noncompliant Code Example</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>var result = new List&lt;string&gt;();
foreach (var element in collection)  // Noncompliant
{
  if (condition(element))
  {
    result.Add(element);
  }
}

foreach (var element in collection2) // Noncompliant
{
  var someValue = element.Property;
  if (someValue != null)
  {
    result.Add(someValue);
  }
}</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_compliant_solution">Compliant Solution</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>var result = new List&lt;string&gt;();

foreach (var element in collection.Where(x =&gt; condition(x)))
{
  result.Add(element);
}

foreach (var someValue in collection2.Select(x =&gt; x.Property).Where(y =&gt; y != null))
{
  result.Add(someValue);
}</pre>
</div>
</div>
<hr/>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="ulist">
<ul>
<li>
<p>Use a LINQ expression in the loop declaration instead of this "xxx".</p>
</li>
</ul>
</div>
<hr/>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_10_jul_2015_123019_ann_campbell_wrote">on 10 Jul 2015, 12:30:19 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~tamas.vajk] I tried to break the code samples into individual issues. Please help if I muffed it.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_20_jul_2015_113839_tamas_vajk_wrote">on 20 Jul 2015, 11:38:39 Tamas Vajk wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] I removed a "probably" from the description.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_20_jul_2015_143613_ann_campbell_wrote">on 20 Jul 2015, 14:36:13 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>thanks [~tamas.vajk]</p>
</div>
</div>
</div>
</div>