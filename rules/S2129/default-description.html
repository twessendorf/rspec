<div class="paragraph">
<p>Constructors for <code>String</code>, <code>BigInteger</code>, <code>BigDecimal</code> and the objects used to wrap primitives should never be used. Doing so is less clear and uses more memory than simply using the desired value in the case of strings, and using <code>valueOf</code> for everything else.</p>
</div>
<div class="sect1">
<h2 id="_noncompliant_code_example">Noncompliant Code Example</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>String empty = new String(); // Noncompliant; yields essentially "", so just use that.
String nonempty = new String("Hello world"); // Noncompliant
Double myDouble = new Double(1.1); // Noncompliant; use valueOf
Integer integer = new Integer(1); // Noncompliant
Boolean bool = new Boolean(true); // Noncompliant
BigInteger bigInteger1 = new BigInteger("3"); // Noncompliant
BigInteger bigInteger2 = new BigInteger("9223372036854775807"); // Noncompliant
BigInteger bigInteger3 = new BigInteger("111222333444555666777888999"); // Compliant, greater than Long.MAX_VALUE</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_compliant_solution">Compliant Solution</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>String empty = "";
String nonempty = "Hello world";
Double myDouble = Double.valueOf(1.1);
Integer integer = Integer.valueOf(1);
Boolean bool = Boolean.valueOf(true);
BigInteger bigInteger1 = BigInteger.valueOf(3);
BigInteger bigInteger2 = BigInteger.valueOf(9223372036854775807L);
BigInteger bigInteger3 = new BigInteger("111222333444555666777888999");</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_exceptions">Exceptions</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>BigDecimal</code> constructor with <code>double</code> argument is ignored as using <code>valueOf</code> instead might change resulting value. See S2111 .</p>
</div>
<hr/>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Remove this "xxx" constructor</p>
</div>
<hr/>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_relates_to_s1533">relates to: S1533</h3>

</div>
<div class="sect2">
<h3 id="_on_10_oct_2014_140324_freddy_mallet_wrote">on 10 Oct 2014, 14:03:24 Freddy Mallet wrote:</h3>
<div class="paragraph">
<p>@Ann, my 2 cents:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>I would not activate this rule by default</p>
</li>
<li>
<p>Would slightly update the title like this : Constructors should not be used to instanciate new String or primitive wrappers.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_on_13_oct_2014_124040_ann_campbell_wrote">on 13 Oct 2014, 12:40:40 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>What do you think [~nicolas.peru]? Active by default or not?</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_13_oct_2014_125234_nicolas_peru_wrote">on 13 Oct 2014, 12:52:34 Nicolas Peru wrote:</h3>
<div class="paragraph">
<p>IMO : Activated by default but with a low severity : minor to trivial this is really easy to fix and should not clutter you too much to focus on real trouble but should still be reported to be dealt with.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_14_jul_2016_160820_ann_campbell_wrote">on 14 Jul 2016, 16:08:20 Ann Campbell wrote:</h3>
<div class="paragraph">
<p><a href="https://github.com/google/error-prone/blob/master/docs/bugpattern/BoxedPrimitiveConstructor.md" class="bare">https://github.com/google/error-prone/blob/master/docs/bugpattern/BoxedPrimitiveConstructor.md</a></p>
</div>
</div>
</div>
</div>