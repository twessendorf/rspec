<div class="paragraph">
<p>Before initialization, both automatic variables and allocated memory contain junk data. Attempting to read or use uninitialized automatic variables or memory can cause unexpected results. Therefore variables and memory should always be initialized before being read.</p>
</div>
<div class="paragraph">
<p>Note that this rule applies to memory obtained through <code>alloc</code>, <code>malloc</code>, <code>realloc</code>, <code>valloc</code> and <code>reallocf</code>.</p>
</div>
<div class="sect1">
<h2 id="_noncompliant_code_example">Noncompliant Code Example</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>int fun(int i) {
  int a; // currently contains garbage value
  char *buf = malloc(sizeof(char) * 21); // currently contains garbage value

  if (a &gt; i )  // Noncompliant; a uninitialized
  {
    return strlen(buf); // Noncompliant; strlen reads its argument
  }
  return i;
}</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_compliant_solution">Compliant Solution</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>int fun(int i) {
  int a = 0;
  char *buf = cmalloc(sizeof(char) * 21); // calloc 0-initializes the allocated memory

  if (a &gt; i )
  {
    return strlen(buf); // returns 0;
  }
  return i;
}</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_see">See</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://wiki.sei.cmu.edu/confluence/x/AdYxBQ">CERT, EXP33-C.</a> - Do not read uninitialized memory</p>
</li>
<li>
<p><a href="https://wiki.sei.cmu.edu/confluence/x/EXw-BQ">CERT, EXP53-CPP.</a> - Do not read uninitialized memory</p>
</li>
<li>
<p><a href="https://cwe.mitre.org/data/definitions/119.html">MITRE, CWE-119</a> - Improper Restriction of Operations within the Bounds of a Memory Buffer</p>
</li>
<li>
<p><a href="https://cwe.mitre.org/data/definitions/665.html">MITRE, CWE-665</a> - Improper Initialization</p>
</li>
</ul>
</div>
<hr/>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>"xxx" was not (re)initialized.</p>
</div>
<hr/>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_is_duplicated_by_s2669">is duplicated by: S2669</h3>

</div>
<div class="sect2">
<h3 id="_relates_to_s2015">relates to: S2015</h3>

</div>
<div class="sect2">
<h3 id="_is_related_to_s836">is related to: S836</h3>

</div>
<div class="sect2">
<h3 id="_on_1_feb_2016_111736_freddy_mallet_wrote">on 1 Feb 2016, 11:17:36 Freddy Mallet wrote:</h3>
<div class="paragraph">
<p>The rule should also try detecting uninitialized array items.</p>
</div>
</div>
</div>
</div>