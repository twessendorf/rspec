<div class="paragraph">
<p>In the absence of enclosing curly braces, the line immediately after a conditional is the one that is conditionally executed. By both convention and good practice, such lines are indented. In the absence of both curly braces and indentation the intent of the original programmer is entirely unclear and perhaps not actually what is executed. Additionally, such code is highly likely to be confusing to maintainers.</p>
</div>
<div class="sect1">
<h2 id="_noncompliant_code_example">Noncompliant Code Example</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>if ($x &gt; 0)  // Noncompliant
doTheThing();
doTheOtherThing();

foo();</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_compliant_solution">Compliant Solution</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>if ($x &gt; 0) {
  doTheThing();
  doTheOtherThing();
}

foo();</pre>
</div>
</div>
<div class="paragraph">
<p>or</p>
</div>
<div class="listingblock">
<div class="content">
<pre>if ($x &gt; 0)
    doTheThing();
doTheOtherThing();

foo();</pre>
</div>
</div>
<hr/>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Use indentation to denote the code conditionally executed by this "if".</p>
</div>
</div>
<div class="sect2">
<h3 id="_highlighting">Highlighting</h3>
<div class="ulist">
<ul>
<li>
<p>Primary: <code>if (condition)</code></p>
</li>
<li>
<p>Secondary: immediately subsequent lines of code until the next empty line</p>
</li>
</ul>
</div>
<hr/>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_6_mar_2018_172214_tibor_blenessy_wrote">on 6 Mar 2018, 17:22:14 Tibor Blenessy wrote:</h3>
<div class="paragraph">
<p>Go requires curly braces for conditional statements.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_8_jun_2018_175210_duncan_pocklington_wrote">on 8 Jun 2018, 17:52:10 Duncan Pocklington wrote:</h3>
<div class="paragraph">
<p>This rule seems to overlap almost completely with <a href="https://jira.sonarsource.com/browse/RSPEC-2681">S2681</a></p>
</div>
<div class="paragraph">
<p>Given the non-compliant example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>if (condition)  // Noncompliant
doTheThing();
doTheOtherThing(); // &lt;- S2681 "This line will not be executed conditionally; only the first line of this 3-line block will be ..."
somethingElseEntirely();

foo();</pre>
</div>
</div>
<div class="paragraph">
<p>Fixing the indentation or using blocks stops S2681 from raising. Do we need both rules?</p>
</div>
<div class="paragraph">
<p>\[UPDATE] The wording of this rule and S2681 and examples have been updated.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_1_feb_2019_103132_amaury_levé_wrote">on 1 Feb 2019, 10:31:32 Amaury Levé wrote:</h3>
<div class="paragraph">
<p>Adding VB.NET and VB6 as irrelevant because by design you always have a block.</p>
</div>
</div>
</div>
</div>