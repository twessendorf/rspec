<div class="paragraph">
<p>Conditional execution increases code nesting and decreases readability. When the body of a method or loop ends with code that is conditionally executed, it can be simplified by inverting the condition with a <code>continue</code> or early <code>return</code>.</p>
</div>
<div class="paragraph">
<p>This rule raises an issue when a method or loop ends with a conditional block containing at least two statements.</p>
</div>
<div class="sect1">
<h2 id="_noncompliant_code_example">Noncompliant Code Example</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>public void conditionalMethod()
{
  if (condition) // Noncompliant
  {
    doFirstThing();
    doSecondThing();
    doThirdThing();
  }
}

public void conditionalLoop()
{
  for(int i = 0; i &lt; 10; i++)
  {
    if (condition)  // Noncompliant
    {
      doTheThing();
      doTheOtherThing();
    }
  }

  if (otherCondition) // Compliant
  {
    doTheFinalThing();
  }
}</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_compliant_solution">Compliant Solution</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>public void conditionalMethod()
{
  if (!condition)
  {
    return;
  }
  doFirstThing();
  doSecondThing();
  doThirdThing();
}

public void conditionalLoop()
{
  for(int i = 0; i &lt; 10; i++)
  {
    if (!condition)
    {
      continue;
    }

    doTheThing();
    doTheOtherThing();
  }

  if (otherCondition)
  {
    doTheFinalThing();
  }
}</pre>
</div>
</div>
<hr/>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="ulist">
<ul>
<li>
<p>Invert the condition on line n and use an early "return".</p>
</li>
<li>
<p>Invert the condition on line n and use a "continue".</p>
</li>
</ul>
</div>
<hr/>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_7_jul_2015_133824_tamas_vajk_wrote">on 7 Jul 2015, 13:38:24 Tamas Vajk wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] This rule should not be only about complete method or loop bodies. It can be partial as well:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>public void AnyMethod()
{
  CallSomeOtherMethod1();
  CallSomeOtherMethod2();
  CallSomeOtherMethod3();
  if (someCondition)
  {
    CallSomeOtherMethod4();
    CallSomeOtherMethod5();
  }
}</pre>
</div>
</div>
<div class="paragraph">
<p>can be converted to</p>
</div>
<div class="listingblock">
<div class="content">
<pre>public void AnyMethod()
{
  CallSomeOtherMethod1();
  CallSomeOtherMethod2();
  CallSomeOtherMethod3();
  if (!someCondition)
  {
    return;
  }

  CallSomeOtherMethod4();
  CallSomeOtherMethod5();
}</pre>
</div>
</div>
<div class="paragraph">
<p>If the last statement in a method or loop is an <code>if</code> we can do this transformation. (And as a consequence if the only statement in a method is an <code>if</code>, we can also do it.)</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_8_jul_2015_142214_ann_campbell_wrote">on 8 Jul 2015, 14:22:14 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>see what you think now [~tamas.vajk]</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_20_jul_2015_114759_tamas_vajk_wrote">on 20 Jul 2015, 11:47:59 Tamas Vajk wrote:</h3>
<div class="paragraph">
<p>\[~ann.campbell.2] Should we add that the code block needs to contain at least two statements? (That&#8217;s how R# works)</p>
</div>
<div class="paragraph">
<p>So:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>public void MyMethod()
{
  if (condition) //compliant, has only one statement inside
  {
    DoSomeThing();
  }
}
public void MyMethod2()
{
  if (condition) //noncompliant
  {
    DoSomeThing();
    DoSomeThingElse();
  }
}</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_on_20_jul_2015_135609_ann_campbell_wrote">on 20 Jul 2015, 13:56:09 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>I&#8217;ve added explicit text to that effect &amp; beefed up the example [~tamas.vajk]</p>
</div>
</div>
</div>
</div>