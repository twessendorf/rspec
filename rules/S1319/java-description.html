<div class="paragraph">
<p>The purpose of the Java Collections API is to provide a well defined hierarchy of interfaces in order to hide implementation details.</p>
</div>
<div class="paragraph">
<p>Implementing classes must be used to instantiate new collections, but the result of an instantiation should ideally be stored in a variable whose type is a Java Collection interface.</p>
</div>
<div class="paragraph">
<p>This rule raises an issue when an implementation class:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>is returned from a <code>public</code> method.</p>
</li>
<li>
<p>is accepted as an argument to a <code>public</code> method.</p>
</li>
<li>
<p>is exposed as a <code>public</code> member.</p>
</li>
</ul>
</div>
<div class="sect1">
<h2 id="_noncompliant_code_example">Noncompliant Code Example</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>public class Employees {
  private HashSet&lt;Employee&gt; employees = new HashSet&lt;Employee&gt;();  // Noncompliant - "employees" should have type "Set" rather than "HashSet"

  public HashSet&lt;Employee&gt; getEmployees() {                       // Noncompliant
    return employees;
  }
}</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_compliant_solution">Compliant Solution</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>public class Employees {
  private Set&lt;Employee&gt; employees = new HashSet&lt;Employee&gt;();      // Compliant

  public Set&lt;Employee&gt; getEmployees() {                           // Compliant
    return employees;
  }
}</pre>
</div>
</div>
<hr/>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>"XXX" should be an interface such as "YYY" rather than the implementation "ZZZ".</p>
</div>
<div class="paragraph">
<p>The return type of this method should be an interface such as "YYYY" rather than the implementation "ZZZ".</p>
</div>
<hr/>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_15_oct_2013_092856_freddy_mallet_wrote">on 15 Oct 2013, 09:28:56 Freddy Mallet wrote:</h3>
<div class="paragraph">
<p>Is implemented by http://jira.codehaus.org/browse/SONARJAVA-360</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_10_apr_2017_002642_ron190_wrote">on 10 Apr 2017, 00:26:42 ron190 wrote:</h3>
<div class="paragraph">
<p>I changed LinkedList to List in my project but after 4 levels of changes that I applied successively to return types and parameter types, I encountered list.getLast() and list.removeLast() but those methods do not exist in interface List.</p>
</div>
<div class="paragraph">
<p>Is it right to use list.get(list.size()-1) instead of list.getLast() in term of performances and complexity ?</p>
</div>
<div class="paragraph">
<p>LinkedList keeps references to both head and tail and offers a complexity of O(1), is it the same with list.get(list.size()-1) ?</p>
</div>
<div class="paragraph">
<p>Posted to Groups (thank you Ann)</p>
</div>
<div class="paragraph">
<p><a href="https://groups.google.com/forum/#!topic/sonarqube/jc0WU-8RE94" class="bare">https://groups.google.com/forum/#!topic/sonarqube/jc0WU-8RE94</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_on_10_apr_2017_155331_ann_campbell_wrote">on 10 Apr 2017, 15:53:31 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~ron190] this isn&#8217;t the best place to initiate a discussion. You&#8217;ll reach a broader audience if you go to the <a href="https://groups.google.com/forum/#!forum/sonarqube">SonarQube Google Group</a></p>
</div>
</div>
</div>
</div>