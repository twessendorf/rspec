<div class="paragraph">
<p>If a boolean expression doesn&#8217;t change the evaluation of the condition, then it is entirely unnecessary, and can be removed. If it is gratuitous because it does not match the programmer&#8217;s intent, then it&#8217;s a bug and the expression should be fixed.</p>
</div>
<div class="sect1">
<h2 id="_noncompliant_code_example">Noncompliant Code Example</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>public void Sample(bool b, bool c, string s)
{
    var a = true;
    if (a) // Noncompliant
    {
        DoSomething();
    }

    if (b &amp;&amp; a) // Noncompliant; "a" is always "true"
    {
        DoSomething();
    }

    if (c || !a) // Noncompliant; "!a" is always "false"
    {
        DoSomething();
    }

    string d = null;
    var v1 = d ?? "value"; // Noncompliant, d is always null
    var v2 = s ?? d; // Noncompliant, d is always null and the produced value is always equal to s. The condition to check the value of s is gratuitous.
}</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_compliant_solution">Compliant Solution</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>public void Sample(bool b, bool c, string s)
{
    var a = true;
    if (Foo(a))
    {
        DoSomething();
    }

    if (b)
    {
        DoSomething();
    }

    if (c)
    {
        DoSomething();
    }

    var v1 = "value";
    var v2 = s;
}</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_see">See</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://cwe.mitre.org/data/definitions/571.html">MITRE, CWE-571</a> - Expression is Always True</p>
</li>
<li>
<p><a href="https://cwe.mitre.org/data/definitions/570.html">MITRE, CWE-570</a> - Expression is Always False</p>
</li>
</ul>
</div>
<hr/>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="ulist">
<ul>
<li>
<p>Change this condition so that it does not always evaluate to "[true|false]".</p>
</li>
<li>
<p>Change this expression which always evaluates to "null".</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_highlighting">Highlighting</h3>
<div class="paragraph">
<p>Primary: the gratuitous expression</p>
</div>
<div class="paragraph">
<p>Secondary: the last locations in the code leading to know something on each variable part of the gratuitous expression.</p>
</div>
<hr/>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_deprecates_s1850">deprecates: S1850</h3>

</div>
<div class="sect2">
<h3 id="_is_related_to_s3650">is related to: S3650</h3>

</div>
<div class="sect2">
<h3 id="_relates_to_s1764">relates to: S1764</h3>

</div>
<div class="sect2">
<h3 id="_on_1_feb_2016_102145_freddy_mallet_wrote">on 1 Feb 2016, 10:21:45 Freddy Mallet wrote:</h3>
<div class="paragraph">
<p>Question : should we consider this RSPEC as being fully a subset of RSPEC-2583 ? I think the only motivation behind this split was to use a different severity and this remains a relevant point.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_29_feb_2016_083704_pierre_yves_nicolas_wrote">on 29 Feb 2016, 08:37:04 Pierre-Yves Nicolas wrote:</h3>
<div class="paragraph">
<p>\[~freddy.mallet] I don&#8217;t really see why this RSPEC is "fully a subset of RSPEC-2583". Maybe that makes sense if it is implemented through symbolic execution with short-circuit logical operators, but then it all depends on the order of sub-conditions. Please consider <code>IF X &gt; 1 AND X = 5</code>: I think that this code would raise an issue for the current description of this RSPEC, but not for RSPEC-2583.</p>
</div>
</div>
</div>
</div>