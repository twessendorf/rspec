<div class="paragraph">
<p>There are three ways to initialize a non-static data member in a class:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>With an in-class initializer</p>
</li>
<li>
<p>In the initialization list of a constructor</p>
</li>
<li>
<p>In the constructor body</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You should use those methods in that order of preference. When applicable, in-class initializers are best, because they apply automatically to all constructors of the class (except for default copy/move constructors and constructors where an explicit initialization for this member is provided). But they can only be used for initialization with constant values.</p>
</div>
<div class="paragraph">
<p>If your member value depends on a parameter, you can initialize it in the constructor&#8217;s initialization list. If the initialization is complex, you can define a function to compute the value, and use this function in the initializer list.</p>
</div>
<div class="paragraph">
<p>Initialization in the constructor body has several issues. First, it&#8217;s not an initialization, but an assignment. Which means it will not work with all data types (const-qualified members, members of reference type, member of a type without default constructor&#8230;&#8203;). And even if it works, the member will first be initialized, then assigned to, which means useless operations will take place. To prevent "use-before-set" errors, it&#8217;s better to immediately initialize the member with its real value.</p>
</div>
<div class="paragraph">
<p>It&#8217;s hard to find a good example where setting the value of a member in the constructor would be appropriate. One case might be when you assign to several data members in one operation. As a consequence constructor bodies are empty in many situations.</p>
</div>
<div class="paragraph">
<p>This rules raises an issue in two conditions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>When you assign a value to a member variable in the body of a constructor.</p>
</li>
<li>
<p>When you initialize a member variable in the initializer list of a constructor, but could have done so directly in the class:</p>
<div class="ulist">
<ul>
<li>
<p>The initial value does not depend on a constructor parameter</p>
</li>
<li>
<p>The variable has either no in-class initializer, or an in-class initializer with the same value as in the constructor</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="sect1">
<h2 id="_noncompliant_code_example">Noncompliant Code Example</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>class S {
  int i1;
  int i2;
  int i3;
public:
  S( int halfValue, int i2 = 0) : i2(i2), i3(42) { // Noncompliant for i1 and i3, compliant for i2
    this-&gt;i1 = 2*halfValue;
  }
};</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_compliant_solution">Compliant Solution</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>class S {
  int i1;
  int i2;
  int i3 = 42; // In-class initializer
public:
  S( int halfValue, int i2 = 0 ) : i1(2*halfValue), i2(i2) {} // Compliant
};</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_see">See</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/isocpp/CppCoreGuidelines/blob/036324/CppCoreGuidelines.md#c48-prefer-in-class-initializers-to-member-initializers-in-constructors-for-constant-initializers">C&#43;&#43; Core Guidelines C.48</a> - Prefer in-class initializers to member initializers in constructors for constant initializers</p>
</li>
<li>
<p><a href="https://github.com/isocpp/CppCoreGuidelines/blob/036324/CppCoreGuidelines.md#c49-prefer-initialization-to-assignment-in-constructors">C&#43;&#43; Core Guidelines C.49</a> - Prefer initialization to assignment in constructors</p>
</li>
</ul>
</div>
<hr/>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Initialize the members of this class in an initialization list</p>
</div>
<hr/>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_relates_to_s5523">relates to: S5523</h3>

</div>
</div>
</div>