<div class="paragraph">
<p>When you make an unqualified call to swap, argument dependent lookup will ensure that overloads will also be searched in the namespace where the types of the arguments of the call are declared.</p>
</div>
<div class="paragraph">
<p>However, argument dependent lookup won&#8217;t happen if you explicitly qualify the call <code>std::swap</code> (as a reminder, overrides of <code>swap</code> should not be written in the standard namespace - see S3470) so the overload will not be found and the result of the swap may be different than expected.</p>
</div>
<div class="paragraph">
<p>If you want your code to work both with <code>std::swap</code> and with user-defined <code>swap</code> (for instance in a template), you should use a using declaration <code>using std::swap;</code> before calling <code>swap</code> without qualification.</p>
</div>
<div class="sect1">
<h2 id="_noncompliant_code_example">Noncompliant Code Example</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>namespace myCompany {
class A {/* ... */};
swap(A &amp;a1, A &amp;a2);
}

void f(myCompany::A &amp;a1, myCompany::A &amp;a2) {
  // ...
  std::swap(a1, a2); // Noncompliant
}

template&lt;class T&gt;
void g(T &amp;t1, T &amp;t2) {
  // ...
  std::swap(t1, t2); // Noncompliant, will not work correctly if T == myCompany::A
}</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_compliant_solution">Compliant Solution</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>namespace myCompany {
class A {/* ... */};
swap(A &amp;a1, A &amp;a2);
}

void f(myCompany::A &amp;a1, myCompany::A &amp;a2) {
  // ...
  swap(a1, a2);
}

template&lt;class T&gt;
void g(T &amp;t1, T &amp;t2) {
  // ...
  using std::swap;
  swap(t1, t2);
}</pre>
</div>
</div>
<hr/>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Remove the explicit qualification of the call.</p>
</div>
<hr/>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_relates_to_s3470">relates to: S3470</h3>

</div>
</div>
</div>