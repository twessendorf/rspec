<div class="paragraph">
<p>Instance methods, i.e. methods not annotated with <code>@classmethod</code> or <code>@staticmethod</code>, are expected to have at least one parameter. This parameter will reference the object instance on which the method is called. By convention, this first parameter is named "self".</p>
</div>
<div class="paragraph">
<p>Naming the "self" parameter differently is confusing. It might also indicate that the "self" parameter was forgotten, in which case calling the method will most probably fail.</p>
</div>
<div class="paragraph">
<p>Note also that creating methods which are used as static methods without the <code>@staticmethod</code> decorator is a bad practice because calling these methods on an instance will raise a <code>TypeError</code>. Either move the method out of the class or decorate it with <code>@staticmethod</code>.</p>
</div>
<div class="paragraph">
<p>This rule raises an issue when the first parameter of an instance method is not called "self".</p>
</div>
<div class="sect1">
<h2 id="_noncompliant_code_example">Noncompliant Code Example</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>class MyClass:
    def send_request(request):  # Noncompliant. "self" was probably forgotten
        print("send_request")

class ClassWithStaticMethod:
    def static_method(param):  # Noncompliant
        print(param)
ClassWithStaticMethod().static_method(42)  # Method is available on the instance but calling it will raise a TypeError</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_compliant_solution">Compliant Solution</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>class MyClass:
    def send_request(self, request):
        print("send_request")

class ClassWithStaticMethod:
    @staticmethod
    def static_method(param):
        print(param)
ClassWithStaticMethod().static_method(42)</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_exceptions">Exceptions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule will also accept "cls" or "mcs" as first parameter&#8217;s name for metaclasses' methods.</p>
</div>
<div class="paragraph">
<p>No issue will be raised for methods called <code>__init_subclass__</code>, <code>__class_getitem__</code> or <code>__new__</code> as these methods' first parameter is a class.</p>
</div>
<div class="paragraph">
<p>You can also disable issues on methods decorated with a specific decorator. Add these decorators to this rule&#8217;s "ignoreDecorators" parameter.</p>
</div>
<div class="paragraph">
<p>With "ignoredDecorators" set to "abstractmethod"</p>
</div>
<div class="listingblock">
<div class="content">
<pre>from abc import abstractmethod, ABC

class MyClass(ABC):
    @abstractmethod
    def method():  # No issue, even if it is better in this case to also decorate with @staticmethod
        pass</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_see">See</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Python documentation - <a href="https://docs.python.org/3.8/tutorial/classes.html#method-objects">Method Objects</a></p>
</li>
<li>
<p>PEP8 - <a href="https://www.python.org/dev/peps/pep-0008/#function-and-method-arguments">Function and Method Arguments</a></p>
</li>
</ul>
</div>
<hr/>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Rename XXX to "self" or add the missing "self" parameter.</p>
</div>
</div>
<div class="sect2">
<h3 id="_parameters">Parameters</h3>
<div class="ulist">
<ul>
<li>
<p>key = ignoredDecorators</p>
</li>
<li>
<p>description: Comma-separated list of decorators which will disable this rule.</p>
</li>
<li>
<p>default: abstractmethod</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_highlighting">Highlighting</h3>
<div class="paragraph">
<p>Instance method&#8217;s first parameter</p>
</div>
<hr/>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_10_mar_2020_175121_nicolas_harraudeau_wrote">on 10 Mar 2020, 17:51:21 Nicolas Harraudeau wrote:</h3>
<div class="paragraph">
<p>Exceptions to this rule which are not worth mentioning in the RSPEC:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>No issue will be raised on zope.Interface methods</p>
</li>
<li>
<p>No issue will be raised on methods in classes nested in other methods. It is common to name "self" otherwise to avoid the confusion</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>class A:
    def meth(self):
        class B:
            def nested(this): # Ok
                pass</pre>
</div>
</div>
</div>
</div>
</div>