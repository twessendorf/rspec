<div class="paragraph">
<p>In a base class, <code>virtual</code> indicates that a function can be overridden. In a derived class, it indicates an override. But given the specifier&#8217;s dual meaning, it would be both clearer and more sound to use derived class-specific specifiers instead: <code>override</code> or <code>final</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>final</code> indicates a function <code>override</code> that cannot itself be overridden. The compiler will issue a warning if the signature does not match the signature of a base-class <code>virtual</code> function.</p>
</li>
<li>
<p><code>override</code> indicates that a function is intended to override a base-class function. The compiler will issue a warning if this is not the case. It is redundant in combination with <code>final</code>.</p>
</li>
</ul>
</div>
<div class="sect1">
<h2 id="_noncompliant_code_example">Noncompliant Code Example</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>class Counter {
protected:
  int c = 0;
public:
  virtual void count() {
    c++;
  }
};

class FastCounter: public Counter {
public:
  virtual void count() {  // Noncompliant
    c += 2;
  }
};</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_compliant_solution">Compliant Solution</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>class Counter {
protected:
  int c = 0;
public:
  virtual void count() {
    c++;
  }
};

class FastCounter: public Counter {
public:
  void count() override {
    c += 2;
  }
};</pre>
</div>
</div>
<div class="paragraph">
<p>or</p>
</div>
<div class="listingblock">
<div class="content">
<pre>class Counter {
protected:
  int c = 0;
public:
  virtual void count() {
    c++;
  }
};

class FastCounter: public Counter {
public:
  void count() final {
    c += 2;
  }
};</pre>
</div>
</div>
<div class="sect2">
<h3 id="_see">See</h3>
<div class="ulist">
<ul>
<li>
<p>S1016</p>
</li>
<li>
<p><a href="https://github.com/isocpp/CppCoreGuidelines/blob/036324/CppCoreGuidelines.md#c128-virtual-functions-should-specify-exactly-one-of-virtual-override-or-final">C&#43;&#43; Core Guidelines C.128</a> - Virtual functions should specify exactly one of virtual, override, or final</p>
</li>
</ul>
</div>
<hr/>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="ulist">
<ul>
<li>
<p>Annotate this function with "override" or "final".</p>
</li>
<li>
<p>Use "override" or "final" instead of "virtual".</p>
</li>
<li>
<p>Drop the "[virtual|override]" specifier; it is redundant.</p>
</li>
<li>
<p>Drop the "virtual" and "override" specifiers; they are redundant.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_highlighting">Highlighting</h3>
<div class="paragraph">
<p>specifier to be dropped</p>
</div>
<hr/>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_relates_to_s1016">relates to: S1016</h3>

</div>
<div class="sect2">
<h3 id="_is_related_to_s3576">is related to: S3576</h3>

</div>
<div class="sect2">
<h3 id="_on_11_dec_2015_175348_ann_campbell_wrote">on 11 Dec 2015, 17:53:48 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~evgeny.mandrikov] given the fact that it&#8217;s only a compiler warning to have a <code>virtual</code> function in a derived class with a mismatched signature, do we want a rule on that?</p>
</div>
<div class="paragraph">
<p>E.G.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>class BaseClass
{
    virtual void doTheThing() const;
}

class DerivedClass : public BaseClass
{
    virtual void doTheThing();
}</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_on_3_feb_2016_101640_freddy_mallet_wrote">on 3 Feb 2016, 10:16:40 Freddy Mallet wrote:</h3>
<div class="paragraph">
<p>Hi [~ann.campbell.2], that&#8217;s a pretty good idea to have a dedicated rule for that which would be activated by default. You can go ahead.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_3_feb_2016_195234_ann_campbell_wrote">on 3 Feb 2016, 19:52:34 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>RSPEC-3528</p>
</div>
</div>
</div>
</div>