<div class="paragraph">
<p>Using <code>Object.ReferenceEquals</code> to compare the references of two value types simply won&#8217;t return the expected results most of the time because such types are passed by value, not by reference.</p>
</div>
<div class="sect1">
<h2 id="_noncompliant_code_example">Noncompliant Code Example</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>public class MyClass
{
  private MyStruct myStruct;

  public void DoSomething(MyStruct s1) {
    int a = 1;
    int b = 1;

    if (Object.ReferenceEquals(myStruct, s1))  // Noncompliant; this can never be true
    {
      // ...
    }
    else if (Object.ReferenceEquals(a,b)) // Noncompliant
    {
      // ...
    }
  }
}</pre>
</div>
</div>
<hr/>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Use a different kind of comparison for these value types.</p>
</div>
<hr/>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_3_jun_2015_155616_ann_campbell_wrote">on 3 Jun 2015, 15:56:16 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~tamas.vajk] I&#8217;m a little confused about whether it should be <code>Object...</code> or <code>object...</code>. I followed your lead, but am a little uncomfortable about the inconsistency in usage between title and code sample</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_8_jun_2015_093221_tamas_vajk_wrote">on 8 Jun 2015, 09:32:21 Tamas Vajk wrote:</h3>
<div class="paragraph">
<p>LGTM, I&#8217;ve changed the <code>object</code> to <code>Object</code> just to conform to the title, but  there is no difference, because <code>object</code> is just an alias for <code>System.Object</code></p>
</div>
</div>
</div>
</div>