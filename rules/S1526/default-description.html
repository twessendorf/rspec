<div class="paragraph">
<p>Variables declared with <code>var</code> have the special property that regardless of where they&#8217;re declared in a function they "float" to the top of the function and are available for use even before they&#8217;re declared. That makes scoping confusing, especially for new coders.</p>
</div>
<div class="paragraph">
<p>To keep confusion to a minimum, <code>var</code> declarations should happen before they are used for the first time.</p>
</div>
<div class="sect1">
<h2 id="_noncompliant_code_example">Noncompliant Code Example</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>var x = 1;

function fun(){
  alert(x); // Noncompliant as x is declared later in the same scope
  if(something) {
    var x = 42; // Declaration in function scope (not block scope!) shadows global variable
  }
}

fun(); // Unexpectedly alerts "undefined" instead of "1"</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_compliant_solution">Compliant Solution</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>var x = 1;

function fun() {
  print(x);
  if (something) {
    x = 42;
  }
}

fun(); // Print "1"</pre>
</div>
</div>
<hr/>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Move the declaration of "xxx" before this usage.</p>
</div>
</div>
<div class="sect2">
<h3 id="_highlighting">Highlighting</h3>
<div class="ulist">
<ul>
<li>
<p>Primary: usage identifier</p>
</li>
<li>
<p>Additional: declaration identifier</p>
<div class="ulist">
<ul>
<li>
<p>Message: Declaration</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>