<div class="paragraph">
<p>An infinite loop is one that will never end while the program is running, i.e., you have to kill the program to get out of the loop. Whether it is by meeting the loop&#8217;s end condition or via a <code>break</code>, every loop should have an end condition.</p>
</div>
<div class="sect2">
<h3 id="_known_limitations">Known Limitations</h3>
<div class="ulist">
<ul>
<li>
<p>False positives: when <code>yield</code> is used - <a href="https://github.com/SonarSource/SonarJS/issues/674">Issue #674</a>.</p>
</li>
<li>
<p>False positives: when an exception is raised by a function invoked within the loop.</p>
</li>
<li>
<p>False negatives: when a loop condition is based on an element of an array or object.</p>
</li>
</ul>
</div>
</div>
<div class="sect1">
<h2 id="_noncompliant_code_example">Noncompliant Code Example</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>for (;;) {  // Noncompliant; end condition omitted
  // ...
}

var j = 0;
while (true) { // Noncompliant; constant end condition
  j++;
}

var k;
var b = true;
while (b) { // Noncompliant; constant end condition
  k++;
}</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_compliant_solution">Compliant Solution</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>while (true) { // break will potentially allow leaving the loop
  if (someCondition) {
    break;
  }
}

var k;
var b = true;
while (b) {
  k++;
  b = k &lt; 10;
}

outer:
while(true) {
  while(true) {
    break outer;
  }
}</pre>
</div>
</div>
<hr/>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="ulist">
<ul>
<li>
<p>Add an end condition to this loop.</p>
</li>
<li>
<p>Correct this loop&#8217;s end condition to not be invariant.</p>
</li>
</ul>
</div>
<hr/>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_3_jan_2017_173546_pierre_yves_nicolas_wrote">on 3 Jan 2017, 17:35:46 Pierre-Yves Nicolas wrote:</h3>
<div class="paragraph">
<p>Isn&#8217;t there some overlap with RSPEC-2251, even if RSPEC-2251 is not strictly speaking detecting infinite loops?</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_3_jan_2017_180408_ann_campbell_wrote">on 3 Jan 2017, 18:04:08 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>\[~pierre-yves.nicolas] conceptually, maybe there is, but not semantically. In fact, this got split into two distinct cases/rules because of the semantic difference between</p>
</div>
<div class="paragraph">
<p><code>while(true)</code> (truly infinite loop) and <code>for (int i=0; i &lt; 10; i--)</code> (inadvertently long loop)</p>
</div>
<div class="paragraph">
<p>And maybe I&#8217;m remembering incorrectly, but I have the sense that the discussion that lead to the split was with you. :)</p>
</div>
<div class="paragraph">
<p>As a side note, I&#8217;ve updated the code samples to remove the inadvertently long loop.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_5_jan_2017_091037_pierre_yves_nicolas_wrote">on 5 Jan 2017, 09:10:37 Pierre-Yves Nicolas wrote:</h3>
<div class="paragraph">
<p>Thanks [~ann.campbell.2]!</p>
</div>
</div>
</div>
</div>