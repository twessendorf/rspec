<div class="paragraph">
<p>When the call to a function doesn&#8217;t have any side effects, what is the point of making the call if the results are ignored? In such case, either the function call is useless and should be dropped or the source code doesn&#8217;t behave as expected.</p>
</div>
<div class="paragraph">
<p>This rule raises an issue when the results of the following methods are ignored:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>LINQ method,</p>
</li>
<li>
<p><code>[Pure]</code> method,</p>
</li>
<li>
<p>any method on <code>string</code>, <code>int</code>, &#8230;&#8203;, <code>System.Collections.Immutable.ImmutableArray&lt;T&gt;</code>, <code>ImmutableHashSet&lt;T&gt;</code>, &#8230;&#8203;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Notes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>although <code>string.Intern</code> has a side effect, ignoring its return value is still suspicious as it is the only reference ensured to point to the intern pool.</p>
</li>
<li>
<p>Link methods can have side effects if they are misused. Example:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>tests.All(c =&gt; { c.myfield = "foo"; return true; });</pre>
</div>
</div>
<div class="paragraph">
<p>Such code should be rewritten as a normal loop.</p>
</div>
<div class="sect1">
<h2 id="_noncompliant_code_example">Noncompliant Code Example</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>coll.Where(i =&gt; i &gt; 5).Select(i =&gt; i*i); // Noncompliant
"this string".Equals("other string"); // Noncompliant</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_compliant_solution">Compliant Solution</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>var res = coll.Where(i =&gt; i &gt; 5).Select(i =&gt; i*i);
var isEqual = "this string".Equals("other string");</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_exceptions">Exceptions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule doesn&#8217;t report issues on method calls with <code>out</code> or <code>ref</code> arguments.</p>
</div>
<hr/>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>Use the return value of method "[method name]".</p>
</div>
<hr/>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_14_mar_2016_095302_dinesh_bolkensteyn_wrote">on 14 Mar 2016, 09:53:02 Dinesh Bolkensteyn wrote:</h3>
<div class="paragraph">
<p>perhaps we can add some methods on the <code>String</code> class such as <code>ToUpper</code>, <code>Substring</code></p>
</div>
</div>
<div class="sect2">
<h3 id="_relates_to_s899">relates to: S899</h3>

</div>
<div class="sect2">
<h3 id="_supercedes_s1154">supercedes: S1154</h3>

</div>
<div class="sect2">
<h3 id="_on_24_nov_2014_125737_nicolas_peru_wrote">on 24 Nov 2014, 12:57:37 Nicolas Peru wrote:</h3>
<div class="paragraph">
<p>This rule seems ok to me but the message is not convincing me. I would go for something more explicit about the fact that the return value of the method is ignored.</p>
</div>
<div class="paragraph">
<p>"Return value of method 'xxx' is not used"</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_1_dec_2014_093120_freddy_mallet_wrote">on 1 Dec 2014, 09:31:20 Freddy Mallet wrote:</h3>
<div class="paragraph">
<p>And we should be careful to not mix this rule with RSPEC-899:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>RSPEC-899 is about ignoring the result of a function call when this result indicates the status of the operation: KO, OK (so when exceptions are not used to trigger issues)</p>
</li>
<li>
<p>This one RSPEC-2201, is about ignoring the result of a function call when this result contains the output of the operation</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_on_27_mar_2015_133647_ann_campbell_wrote">on 27 Mar 2015, 13:36:47 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>Per discussion, I floated closing RSPEC-899 to C-Family team &amp; met with objections.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_10_jan_2016_124652_freddy_mallet_wrote">on 10 Jan 2016, 12:46:52 Freddy Mallet wrote:</h3>
<div class="paragraph">
<p>Hi [~ann.campbell.2], I don&#8217;t understand why this rule is not part of "Sonar way" quality profile because for sure when an issue is raised this is bug.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_11_jan_2016_181509_ann_campbell_wrote">on 11 Jan 2016, 18:15:09 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>As I recall [~freddy.mallet], it&#8217;s a question of confidence in accurately identifying methods without side effects.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_13_jan_2016_092638_freddy_mallet_wrote">on 13 Jan 2016, 09:26:38 Freddy Mallet wrote:</h3>
<div class="paragraph">
<p>I know [~ann.campbell.2], but for instance in Java we&#8217;ve tuned the rule to be sure at 100% that we&#8217;re not generating any false-positives (by limiting the scope to calls to immutable objects) and I think we must do the same thing for the other targeted languages. So at least in Java, this rule must be activated by default (cc [~nicolas.peru]).</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_13_jan_2016_133355_ann_campbell_wrote">on 13 Jan 2016, 13:33:55 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>Done [~freddy.mallet]</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_21_feb_2020_145938_james_bromwell_wrote">on 21 Feb 2020, 14:59:38 James Bromwell wrote:</h3>
<div class="paragraph">
<p>I created <a href="https://github.com/SonarSource/SonarJS/issues/1948">a new issue on the SonarJS GitHub tracker</a> but I&#8217;m not sure if the fault is in the rule itself or in the JS/TS implementation of the rule, so I thought it might be worth bringing up here.</p>
</div>
</div>
</div>
</div>