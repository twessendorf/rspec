<div class="paragraph">
<p>There is a contract between <code>Equals(object)</code> and <code>GetHashCode()</code>: If two objects are equal according to the <code>Equals(object)</code> method, then calling <code>GetHashCode()</code> on each of them must yield the same result. If this is not the case, many collections won&#8217;t handle class instances correctly.</p>
</div>
<div class="paragraph">
<p>In order to comply with the contract, <code>Equals(object)</code> and <code>GetHashCode()</code> should be either both inherited, or both overridden.</p>
</div>
<div class="sect1">
<h2 id="_noncompliant_code_example">Noncompliant Code Example</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>class MyClass   // Noncompliant - should also override "GetHashCode()"
{
    public override bool Equals(object obj)
    {
        // ...
    }
}</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_compliant_solution">Compliant Solution</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>class MyClass
{
    public override bool Equals(object obj)
    {
        // ...
    }

    public override int GetHashCode()
    {
        // ...
    }
}</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_see">See</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://cwe.mitre.org/data/definitions/581.html">MITRE, CWE-581</a> - Object Model Violation: Just One of Equals and Hashcode Defined</p>
</li>
</ul>
</div>
<hr/>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_specification">Implementation Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_message">Message</h3>
<div class="paragraph">
<p>This [class|struct] overrides "GetHashCode()|Equals()" and should therefore also override "GetHashCode()|Equals()".</p>
</div>
</div>
<div class="sect2">
<h3 id="_highlighting">Highlighting</h3>
<div class="paragraph">
<p>The [class|struct] name.</p>
</div>
<hr/>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_links">Comments And Links</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(visible only on this page)</p>
</div>
<div class="sect2">
<h3 id="_on_20_aug_2013_135031_freddy_mallet_wrote">on 20 Aug 2013, 13:50:31 Freddy Mallet wrote:</h3>
<div class="paragraph">
<p>Is implemented by http://jira.codehaus.org/browse/SONARJAVA-302</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_2_oct_2013_090255_dinesh_bolkensteyn_wrote">on 2 Oct 2013, 09:02:55 Dinesh Bolkensteyn wrote:</h3>
<div class="paragraph">
<p>Perhaps HE_HASHCODE_USE_OBJECT_EQUALS and HE_EQUALS_USE_HASHCODE should be deprecated as well.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_2_oct_2013_090651_dinesh_bolkensteyn_wrote">on 2 Oct 2013, 09:06:51 Dinesh Bolkensteyn wrote:</h3>
<div class="paragraph">
<p>Those 2 are now already deprecated in the implementation.</p>
</div>
</div>
<div class="sect2">
<h3 id="_on_8_jul_2015_130956_ann_campbell_wrote">on 8 Jul 2015, 13:09:56 Ann Campbell wrote:</h3>
<div class="paragraph">
<p>Irrelevant because: CS0659 C# compiler warning</p>
</div>
</div>
</div>
</div>